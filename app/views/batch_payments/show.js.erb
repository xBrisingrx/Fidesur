// $("#modal-field-sale").html("<%= j (render 'layouts/modal') %>")
// $("#modal-field-sale").modal('show')

// batch_payment_data.valor_cuota = parseFloat(<%= @batch_payment.money %>)
// batch_payment_data.total_a_pagar = parseFloat(<%= @batch_payment.money %>)
// batch_payment_data.ajuste = parseFloat(document.getElementById('batch_payment_ajuste').value)
// document.getElementById('batch_payment_aply_interest').checked = <%= @batch_payment.apply_arrear? %>

// if (!<%= @batch_payment.apply_arrear? %>) {
// 	// Si no corresponde aplicar interes solo se paga la cuota 
// 	document.getElementById('esta_vencido').style.display = 'none'
// } else {
// 	// Si corresponde, manejamos los campos del interes/recargo sugerido
// 	batch_payment_data.recargo_sugerido = parseFloat(<%= @interes_sugerido %>)
// 	document.getElementById('batch_payment_interest').value = batch_payment_data.recargo_sugerido
// 	document.getElementById('batch_payment_aply_interest').addEventListener('click', function(event) {
// 		$( '#batch_payment_interest').prop("disabled", !this.checked )
// 		if ( this.checked ) {
// 			batch_payment_data.recargo_sugerido = parseFloat(<%= @interes_sugerido %>)
// 			batch_payment_data.total_a_pagar = batch_payment_data.valor_cuota + batch_payment_data.recargo_sugerido + batch_payment_data.ajuste
// 			document.getElementById('batch_payment_interest').value = <%= @interes_sugerido %>
// 			document.getElementById('batch_payment_payment').value = batch_payment_data.total_a_pagar
// 			check_input_payment()
// 		} else {
// 			batch_payment_data.recargo_sugerido = 0.0
// 			batch_payment_data.total_a_pagar = batch_payment_data.valor_cuota + batch_payment_data.ajuste
// 			document.getElementById('batch_payment_interest').value = batch_payment_data.recargo_sugerido
// 			document.getElementById('batch_payment_payment').value = batch_payment_data.total_a_pagar
// 			check_input_payment()
// 		}
// 	})
// }

// document.getElementById('batch_payment_interest').addEventListener('change', function(event) {
// 	batch_payment_data.recargo_sugerido = parseFloat( this.value )
// 	if (!isNaN( batch_payment_data.recargo_sugerido )) {
// 		document.getElementById('batch_payment_payment').value = batch_payment_data.valor_cuota + batch_payment_data.recargo_sugerido + batch_payment_data.ajuste
// 	} else {
// 		batch_payment_data.recargo_sugerido = 0.0
// 		document.getElementById('batch_payment_interest').value = batch_payment_data.recargo_sugerido
// 		document.getElementById('batch_payment_payment').value = batch_payment_data.valor_cuota + batch_payment_data.ajuste
// 	}

// 	check_input_payment()
// })

// document.getElementById('batch_payment_payment').addEventListener('change', function(event) {
// 	check_input_payment()
// } )

// document.getElementById('batch_payment_ajuste').addEventListener('change', function(event) {
// 	batch_payment_data.ajuste = parseFloat( this.value )
// 	if (!isNaN( batch_payment_data.ajuste )) {
// 		document.getElementById('batch_payment_payment').value = batch_payment_data.valor_cuota + batch_payment_data.recargo_sugerido + batch_payment_data.ajuste
// 	} else {
// 		batch_payment_data.ajuste = 0.0
// 		document.getElementById('batch_payment_ajuste').value = batch_payment_data.ajuste
// 		document.getElementById('batch_payment_payment').value = batch_payment_data.valor_cuota + batch_payment_data.recargo_sugerido
// 	}
// 	check_input_payment()
// })

// function check_input_payment(msg) {
// 	let input = document.getElementById('batch_payment_payment')
// 	if ( input.value <= 0  ) {
// 		input.parentElement.classList.add('u-has-error-v1')
// 		noty_alert('error', 'Debe ingresar un valor en pago')
// 		$('.btnSubmit').prop("disabled", true)
// 	} else {
// 		input.parentElement.classList.remove('u-has-error-v1')
// 		$('.btnSubmit').prop("disabled", false)
// 	}
// }

// $("#form-field-pay-quote").on("ajax:success", function(event) {
//     field_sale_table.ajax.reload(null,false)
//     let msg = JSON.parse(event.detail[2].response)
//     noty_alert(msg.status, msg.msg)
//     $("#modal-field-sale").modal('hide')
//   }).on("ajax:error", function(event) {
//   	console.error('error' + event.detail[2].response)
//   	noty_alert('error', 'No se pudo registrar el pago')
// 		// let msg = JSON.parse( event.detail[2].response )
// 		// $.each( msg, function( key, value ) {
// 		// 	$(`#form-field #field_${key}`).addClass('is-invalid')
// 		// 	$(`#form-field .field_${key}`).text( value ).show('slow')
// 		// })
// })


//   // 383333.33 -> valor cuota
//   // 245333,33 -> recargo

//   // 628666,66 -> suma primera

